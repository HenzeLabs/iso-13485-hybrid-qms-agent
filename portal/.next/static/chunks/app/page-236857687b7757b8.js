(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5750:function(s,e,a){"use strict";a.d(e,{Z:function(){return t}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7523:function(s,e,a){Promise.resolve().then(a.bind(a,672))},672:function(s,e,a){"use strict";a.r(e),a.d(e,{default:function(){return o}});var t=a(7437),c=a(2265),l=a(9158),i=a(8222),n=a(2894),r=a(6637),d=a(2898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,d.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),x=(0,d.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var h=a(5750),j=a(2169);function o(){let[s,e]=(0,c.useState)(null),[a,d]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{(async()=>{try{let s=await i.gw.getStats();e(s)}catch(s){console.error("Failed to load dashboard stats:",s)}finally{d(!1)}})()},[]),a)?(0,t.jsx)(l.Z,{children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[void 0,void 0,void 0,void 0].map((s,e)=>(0,t.jsx)("div",{className:"card h-32"},e))})]})}):s?(0,t.jsx)(l.Z,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Quality Management System Overview"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(n.Z,{className:"h-8 w-8 text-warning-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total CAPAs"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:s.capas.total})]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsxs)("span",{className:"text-warning-600 font-medium",children:[s.capas.open," Open"]}),(0,t.jsx)("span",{className:"mx-2 text-gray-300",children:"•"}),(0,t.jsxs)("span",{className:"text-danger-600 font-medium",children:[s.capas.overdue," Overdue"]})]})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(r.Z,{className:"h-8 w-8 text-primary-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total DCRs"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:s.dcrs.total})]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsxs)("span",{className:"text-warning-600 font-medium",children:[s.dcrs.pending_approval," Pending"]}),(0,t.jsx)("span",{className:"mx-2 text-gray-300",children:"•"}),(0,t.jsxs)("span",{className:"text-primary-600 font-medium",children:[s.dcrs.in_review," In Review"]})]})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(m,{className:"h-8 w-8 text-warning-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Pending Approvals"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:s.dcrs.pending_approval+(s.capas.open>5?3:1)})]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("div",{className:"flex items-center text-sm text-warning-600",children:[(0,t.jsx)(m,{className:"h-4 w-4 mr-1"}),"Requires attention"]})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(x,{className:"h-8 w-8 text-success-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Quality Score"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:"94%"})]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("div",{className:"flex items-center text-sm text-success-600",children:[(0,t.jsx)(x,{className:"h-4 w-4 mr-1"}),"+2% from last month"]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"CAPAs by Severity"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(s.capas.by_severity).map(s=>{let[e,a]=s;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("span",{className:"status-badge ".concat((0,j.b2)(e)),children:e})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a})]},e)})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"DCRs by Priority"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(s.dcrs.by_priority).map(s=>{let[e,a]=s;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("span",{className:"status-badge ".concat((0,j.b2)(e)),children:e})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a})]},e)})})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),(0,t.jsx)("div",{className:"space-y-4",children:s.recent_activity.map(s=>(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:"capa"===s.type?(0,t.jsx)(n.Z,{className:"h-5 w-5 text-warning-600"}):(0,t.jsx)(r.Z,{className:"h-5 w-5 text-primary-600"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm text-gray-900",children:s.action}),(0,t.jsxs)("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[(0,t.jsx)(h.Z,{className:"h-3 w-3 mr-1"}),s.user,(0,t.jsx)("span",{className:"mx-2",children:"•"}),(0,j.o0)(s.timestamp),(0,t.jsx)("span",{className:"mx-2",children:"•"}),(0,t.jsx)("span",{className:"font-mono",children:s.entity_id})]})]})]},s.id))})]})]})}):(0,t.jsx)(l.Z,{children:(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Failed to load dashboard data"})})})}}},function(s){s.O(0,[871,152,158,971,938,744],function(){return s(s.s=7523)}),_N_E=s.O()}]);